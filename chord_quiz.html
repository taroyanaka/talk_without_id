<!-- Survey below -->
  <!-- 
視覚優位と言語優位と聴覚優位、それぞれの簡単な概要
視覚優位(Visual Dominance):
空間認識: 視覚優位の人は、視覚的な情報を活用して物体の位置や距離を正確に把握する能力が高いです。
視覚記憶: 視覚優位の人は、視覚的な情報を長期的に記憶しやすい傾向があります。
視覚的な創造性: 視覚優位の人は、イメージや図形を使って創造的なアイデアを生み出すことが得意です。
視覚的な注意力: 視覚優位の人は、視覚的な刺激に対して集中力を保つことができます。
視覚的な学習: 視覚優位の人は、図やグラフなどの視覚的な情報を用いた学習が効果的です。
言語優位(Language Dominance):
語彙力: 言語優位の人は、豊富な語彙を持っており、言葉での表現が得意です。
文字処理: 言語優位の人は、文字情報を素早く理解し、処理する能力が高いです。
論理的思考: 言語優位の人は、言語を使って論理的な思考や議論を展開することが得意です。
読解力: 言語優位の人は、文章を理解し要点を把握する能力が高く、効率的に読み進めることができます。
コミュニケーション能力: 言語優位の人は、言葉を使って他人と効果的にコミュニケーションすることができます。
聴覚優位(Auditory Dominance):
音声処理: 聴覚優位の人は、音声情報を正確に聴き取り、理解する能力が高いです。
リズム感: 聴覚優位の人は、音楽やリズムに敏感であり、音楽的な才能を持つことがあります。
音の識別: 聴覚優位の人は、微細な音の違いを識別する能力が高く、音の特徴を正確に捉えることができます。
音声メモリ: 聴覚優位の人は、聞いた情報を短期的に記憶しやすい傾向があります。
聴覚刺激への集中: 聴覚優位の人は、音に集中して他の刺激を排除し、聴覚情報に注目することができます。 -->
<!-- 
    音楽と体操で暗記する行為の名称
ChatGPT
音楽と体操を組み合わせて暗記する行為には、いくつかの名称があります。以下に代表的な名称をいくつか挙げます。
リズム暗記法（Rhythmic Mnemonics）: テキストを音楽のリズムに合わせて暗記する方法を指します。
About 3,840,000 results (0.99 seconds) 
キネステティック暗記法（Kinesthetic Mnemonics）: 身体の動きを取り入れながらテキストを暗記する方法を指します。体操や動作を組み合わせることで、情報の記憶を補強します。
About 160,000 results (0.50 seconds) 
ミュージック・アンド・モーション暗記法（Music and Motion Mnemonics）: 音楽と体操を組み合わせて暗記する方法を指します。リズムと身体の動きを組み合わせることで、情報の記憶を促進します。
About 6,630,000 results (0.51 seconds) 
 -->
 <!-- 
https://www.frontiersin.org/articles/10.3389/fnhum.2014.00395/full
このページの内容を要約して
ChatGPT
提供いただいたリンクは、フロンティアズイン（Frontiers in）という学術出版社のオープンアクセスジャーナルの記事です。記事のタイトルは「音楽と運動の統合が学習と記憶に及ぼす影響：行動および脳の研究のシステマティックレビュー」となっています。
この研究では、音楽と運動を統合することが学習と記憶に与える影響についてのシステマティックレビュー（体系的な文献のレビュー）が行われました。以下に、記事の内容を要約します。
研究の目的: 音楽と運動の統合が学習と記憶に及ぼす影響を明らかにすること。
方法: 研究者たちは、音楽と運動の統合に関連する20の研究を選択し、そのデータを分析しました。選択された研究は、音楽と運動の統合を実施し、学習と記憶に対する影響を評価したものでした。
結果: 研究の結果、音楽と運動の統合が学習と記憶に肯定的な影響をもたらすことが示されました。音楽と運動を組み合わせたグループは、単に音楽または運動を行ったグループと比較して、より効果的な学習と記憶を示しました。
脳の活動の変化: 脳の機能的MRI（fMRI）スキャンによる調査では、音楽と運動の統合によって脳の活動パターンが変化し、学習と記憶に関与する脳領域の活性化が促進されることが示されました。
応用可能性: この研究は、音楽と運動の統合が教育やリハビリテーションなどの領域で有望なアプローチとなり得ることを示唆しています。特に、学習困難を抱える個人や高齢者の学習や記憶のサポートに役立つ可能性があります。
要約すると、この研究は音楽と運動の統合が学習と記憶に肯定的な影響をもたらすことを示しています。音楽と運動の統合による学習の促進や脳の活性化が確認されており、教育やリハビリテーションなどの分野で応用可能性があるとされています。
User
https://www.jstage.jst.go.jp/article/cogpsy/2015/0/2015_44/_pdf
このページを要約して
ChatGPT
提供いただいたリンクは、日本の学術誌「日本認知心理学会論文集」に掲載された論文のPDFファイルです。タイトルは「音楽と運動の統合が記憶に及ぼす効果：運動パターンの比較による検討」となっています。
この論文では、音楽と運動の統合が記憶に与える効果についての研究が行われました。以下に、論文の内容を要約します。
研究の目的: 音楽と運動の統合が記憶に及ぼす効果を明らかにすること。
方法: 研究者たちは、異なる運動パターン（音楽と一緒に行う運動の種類やリズム）を使用して被験者を実験グループと対照グループに分け、記憶のテストを実施しました。実験グループでは音楽と運動を統合し、対照グループでは音楽を聴きながら静止していました。
結果: 研究の結果、音楽と運動の統合を行ったグループは、対照グループと比較して記憶の成績が有意に高かったことが示されました。具体的な数値やパフォーマンスの増加率については、論文からの抜粋では言及されていません。
効果のメカニズム: 論文では、音楽と運動の統合が記憶に及ぼす効果について、認知的なプロセスの活性化と情報処理の効率化が関与している可能性を指摘しています。具体的な脳のメカニズムやプロセスについては、詳細な解析は行われていません。
要約すると、この論文は音楽と運動の統合が記憶に肯定的な効果をもたらすことを示しています。具体的な効果の数値や統計的な解析結果については、論文全体を詳細に確認する必要があります。
  -->
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Chord Quiz</title>
  <script src="lib/vue@3.2.36.global.prod.js"></script>
  <!-- <script src="lib/tone.js"></script> -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js" integrity="sha512-jduERlz7En1IUZR54bqzpNI64AbffZWR//KJgF71SJ8D8/liKFZ+s1RxmUmB+bhCnIfzebdZsULwOrbVB5f3nQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <style>
    .show_melody_notes, .shuffle_on {
      width: 3rem;
      height: 3rem;
    }
    .checkAnswer{
      width: 10rem;
      height: 3rem;
    }
    .correct_answerMessage, .incorrect_answerMessage{
      width: 10rem;
      height: 3rem;
    }
    .incorrect_color{
      color: red;
    }
    button{
      width: 10rem;
      height: 3rem;
    }
    .to_inline{
      display: inline;
    }
    .sound_the_chord{
      width: 3rem;
      height: 3rem;
    }


  </style>
</head>
<body>
  <div id="app">
    <h1>Chord Quiz</h1>

    bpm: <input type="number" name="bpm" class="bpm" v-model="bpm" placeholder="bpm" min="60" max="240">
    notes_num: <input type="number" name="notes_num" class="notes_num" v-model="notes_num" placeholder="notes_num" min="1" max="12">
    <!-- ただ指定したメロを鳴らす -->
    <ul>
      <li class="to_inline" v-for="melo in melos.filter(chord=>chord.name.includes('2'))">
        <button class="sound_the_chord" @click="sound_the_chord(melo)">{{ melo.name }}</button>
      </li>
      <br>
      <li class="to_inline" v-for="melo in melos.filter(chord=>chord.name.includes('3'))">
        <button class="sound_the_chord" @click="sound_the_chord(melo)">{{ melo.name }}</button>
      </li>
      <br>
      <li class="to_inline" v-for="melo in melos.filter(chord=>chord.name.includes('4'))">
        <button class="sound_the_chord" @click="sound_the_chord(melo)">{{ melo.name }}</button>
      </li>
      <br>
    </ul>
    <!-- ただ指定したコードを鳴らす -->
    <ul>
      <li class="to_inline" v-for="chord in chords.filter(chord=>chord.name.includes('2'))">
        <button class="sound_the_chord" @click="sound_the_chord(chord)">{{ chord.name }}</button>
      </li>
      <br>
      <li class="to_inline" v-for="chord in chords.filter(chord=>chord.name.includes('3'))">
        <button class="sound_the_chord" @click="sound_the_chord(chord)">{{ chord.name }}</button>
      </li>
      <br>
      <li class="to_inline" v-for="chord in chords.filter(chord=>chord.name.includes('4'))">
        <button class="sound_the_chord" @click="sound_the_chord(chord)">{{ chord.name }}</button>
      </li>
      <br>
    </ul>


    show_melody_notes: <input type="checkbox" name="show_melody_notes" class="show_melody_notes" @change="show_melody_notes = !show_melody_notes">
    shuffle_on: <input type="checkbox" name="shuffle_on" class="shuffle_on" @change="shuffle_on = !shuffle_on" checked="true">
    <!-- <p>Click the button to play a random chord. Select the chord and click the "Check Answer" button.</p> -->
    <button @click="playMelodyRepeat">Play Melody Repeat</button>
    <button @click="repeatStop">Repeat Stop</button>
    <button @click="repeatReplay">Repeat Replay</button>
    <!-- <button @click="repeatClear">Repeat Clear</button> -->
    <button @click="playChord">Play Chord</button>
    <select class="checkAnswer" @change="checkAnswer" v-model="selectedChord">
      <option value="">Select a chord</option>
      <option v-for="chord in chords" :value="chord.name">{{ chord.name }}</option>
    </select>
    <!-- <button @click="checkAnswer">Check Answer</button> -->
    <!-- <p class="answerMessage" v-if="answerMessage">{{ answerMessage }}</p> -->
    <p class="correct_answerMessage" v-if="correct_answerMessage">{{ correct_answerMessage }}</p>
    <p class="incorrect_answerMessage" v-if="incorrect_answerMessage">"Incorrect! Correct answer is " <span class="incorrect_color">{{ incorrect_answerMessage }}</span></p>

    <div v-show="show_melody_notes">
      <ul>
        <!-- liとmelody_notes -->
        <li v-for="note in melody_notes">{{ note }}</li>
      </ul>
    </div>
  </div>
  <script>
    const app = Vue.createApp({
      data() {
        return {
          bpm: 120,
          notes_num: 4,
          melos: [
        {name: '2 C', notes: ['C2']},
        {name: '2 D', notes: ['D2']},
        {name: '2 E', notes: ['E2']},
        {name: '2 F', notes: ['F2']},
        {name: '2 G', notes: ['G2']},
        {name: '2 A', notes: ['A2']},
        {name: '2 B', notes: ['B2']},
        {name: '3 C', notes: ['C3']},
        {name: '3 D', notes: ['D3']},
        {name: '3 E', notes: ['E3']},
        {name: '3 F', notes: ['F3']},
        {name: '3 G', notes: ['G3']},
        {name: '3 A', notes: ['A3']},
        {name: '3 B', notes: ['B3']},
        {name: '4 C', notes: ['C4']},
        {name: '4 D', notes: ['D4']},
        {name: '4 E', notes: ['E4']},
        {name: '4 F', notes: ['F4']},
        {name: '4 G', notes: ['G4']},
        {name: '4 A', notes: ['A4']},
        {name: '4 B', notes: ['B4']},
    ],
          chords: [
        {name: '2 C Major', notes: ['C2', 'E2', 'G2']},
        {name: '2 D Minor', notes: ['D2', 'F2', 'A2']},
        {name: '2 E Minor', notes: ['E2', 'G2', 'B2']},
        {name: '2 F Major', notes: ['F2', 'A2', 'C3']},
        {name: '2 G Major', notes: ['G2', 'B2', 'D3']},
        {name: '2 A Minor', notes: ['A2', 'C3', 'E3']},
        {name: '2 B Minor', notes: ['B2', 'D3', 'F#3']},
        {name: '3 C Major', notes: ['C3', 'E3', 'G3']},
        {name: '3 D Minor', notes: ['D3', 'F3', 'A3']},
        {name: '3 E Minor', notes: ['E3', 'G3', 'B3']},
        {name: '3 F Major', notes: ['F3', 'A3', 'C4']},
        {name: '3 G Major', notes: ['G3', 'B3', 'D4']},
        {name: '3 A Minor', notes: ['A3', 'C4', 'E4']},
        {name: '3 B Minor', notes: ['B3', 'D4', 'F#4']},
        {name: '4 C Major', notes: ['C4', 'E4', 'G4']},
        {name: '4 D Minor', notes: ['D4', 'F4', 'A4']},
        {name: '4 E Minor', notes: ['E4', 'G4', 'B4']},
        {name: '4 F Major', notes: ['F4', 'A4', 'C5']},
        {name: '4 G Major', notes: ['G4', 'B4', 'D5']},
        {name: '4 A Minor', notes: ['A4', 'C5', 'E5']},
        {name: '4 B Minor', notes: ['B4', 'D5', 'F#5']},
        // {name: '5 C Major', notes: ['C5', 'E5', 'G5']},
        // {name: '5 D Minor', notes: ['D5', 'F5', 'A5']},
        // {name: '5 E Minor', notes: ['E5', 'G5', 'B5']},
        // {name: '5 F Major', notes: ['F5', 'A5', 'C6']},
        // {name: '5 G Major', notes: ['G5', 'B5', 'D6']},
        // {name: '5 A Minor', notes: ['A5', 'C6', 'E6']},
        // {name: '5 B Minor', notes: ['B5', 'D6', 'F#6']},
    ],
          selectedChord: "",
          correct_answerMessage: "",
          incorrect_answerMessage: "",
          currentChord: "",
          answerMge: "",
          melody_notes: null,
          shuffle_on: true,
          show_melody_notes: false,

        }
      },
methods: {
playChord() {
  const ary_chords = JSON.parse(JSON.stringify(this.chords));
  // ランダムな和音を選択
  let currentChord = ary_chords[Math.floor(Math.random() * ary_chords.length)];
  this.currentChord = currentChord.name;
console.log(currentChord.name);
console.log(currentChord.notes);
Tone.start();  // synthを初期化
const synth = new Tone.Synth().toDestination();
currentChord.notes.forEach(note => {
    synth.triggerAttackRelease(note, 1);
  });
  Tone.Transport.stop();
  Tone.Transport.cancel();
},
checkAnswer() {
  this.correct_answerMessage = null;
  this.incorrect_answerMessage = null;
  this.selectedChord === this.currentChord ?
  this.correct_answerMessage = "Correct!" :
  this.incorrect_answerMessage = this.currentChord;
},
// 配列をshuffleする関数
shuffle(array) {
  for (let i = array.length - 1; i > 0; i--) {
  let r = Math.floor(Math.random() * (i + 1));
  let tmp = array[i];
  array[i] = array[r];
  array[r] = tmp;
  }
  return array;
},
playMelodyRepeat() {
  this.repeatClear();
  Tone.start();
  // synthを初期化
  const synth = new Tone.Synth().toDestination();
  // メロディーを作成
  let melody = [
  // { note: "C2", duration: "2n" },
  // { note: "D2", duration: "2n" },
  // { note: "E2", duration: "2n" },
  // { note: "F2", duration: "2n" },
  // { note: "G2", duration: "2n" },
  // { note: "A2", duration: "2n" },
  // { note: "B2", duration: "2n" },
  { note: "C3", duration: "2n" },
  { note: "D3", duration: "2n" },
  { note: "E3", duration: "2n" },
  { note: "F3", duration: "2n" },
  { note: "G3", duration: "2n" },
  { note: "A3", duration: "2n" },
  { note: "B3", duration: "2n" },
  { note: "C3", duration: "2n" },
  { note: "D3", duration: "2n" },
  { note: "E3", duration: "2n" },
  { note: "F3", duration: "2n" },
  { note: "G3", duration: "2n" },
  { note: "A3", duration: "2n" },
  { note: "B3", duration: "2n" },
  // { note: "C4", duration: "2n" },
  // { note: "D4", duration: "2n" },
  // { note: "E4", duration: "2n" },
  // { note: "F4", duration: "2n" },
  // { note: "G4", duration: "2n" },
  // { note: "A4", duration: "2n" },
  // { note: "B4", duration: "2n" },
  // { note: "C4", duration: "2n" },
  // { note: "D4", duration: "2n" },
  // { note: "E4", duration: "2n" },
  // { note: "F4", duration: "2n" },
  // { note: "G4", duration: "2n" },
  // { note: "A4", duration: "2n" },
  // { note: "B4", duration: "2n" },
  ];
  // const cMajorPentatonic = ["C4", "D4", "E4", "G4", "A4"];
  // const cMixolydian = ["C4", "D4", "E4", "F4", "G4", "A4", "Bb4"];
  const filter_MajorPentatonic = (melody) => {
    return melody.filter(note => {
      return note.note.includes("C") || note.note.includes("D") || note.note.includes("E") || note.note.includes("G") || note.note.includes("A");
    });
  };
  melody = this.shuffle_on ? this.shuffle(melody).slice(0, this.notes_num) : melody;
  // melody = this.shuffle_on ? filter_MajorPentatonic(this.shuffle(melody)).slice(0, 7) : melody;

// melodyに休符を挿入
melody.push({ note: 0, duration: "2n" });

  // Tone.jsのTransportを初期化
  Tone.Transport.cancel();

  Tone.Transport.bpm.value = this.bpm;
  Tone.Transport.scheduleRepeat(repeat, "8n");
  this.melody_notes = [];
  this.melody_notes = melody.map(note => note.note);
  Tone.Transport.start();
  let index = 0;
  function repeat(time) {
    const notes = melody[index % melody.length];
    synth.triggerAttackRelease(notes.note, notes.duration, time);
    index++;
  }
},
repeatStop(){
  Tone.Transport.stop();
  // tone.jsのTransportを初期化
  // Tone.Transport.cancel();
},
repeatReplay(){
  Tone.Transport.start();
},
repeatClear(){
  Tone.Transport.stop();
  Tone.Transport.cancel();
  // this.melody_notes = [];
},
sound_the_chord(CHORD){
  Tone.start();
  // const now = Tone.now();
  const synth = new Tone.Synth().toDestination();
  JSON.parse(JSON.stringify(CHORD.notes)).forEach(note => {
    console.log(note);
    synth.triggerAttackRelease(note, 1);
  });

  // data = JSON.parse(JSON.stringify(CHORD.notes));
  // synth = new Tone.Synth().toDestination();
  // synth.triggerAttackRelease(
  //   data[0],
  //   1
  // );


  Tone.Transport.stop();
  Tone.Transport.cancel();
},
}
    });
    app.mount("#app");
  </script>
</body>
</html>