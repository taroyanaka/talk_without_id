<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>i_t_n_rev</title>

<!-- <link rel="manifest" href="manifest.json"> -->


<link rel="stylesheet" href="./lib/reset.css">
<script src="./lib/localforage@1.10.0.js"></script>
<script src="./lib/vue@3.2.36.global.prod.js"></script>
<script src="./lib/ramda.@0.28.0.js"></script>
<script src="./lib/shuffle.js"></script>
<script src="./lib/my_global_function_for_q_a.js" defer></script>

<!-- <script src="https://cdn.jsdelivr.net/npm/localforage@1.10.0/dist/localforage.min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/vue@3.2.45/dist/vue.global.prod.js"></script> -->
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/ramda/0.28.0/ramda.min.js"></script> -->


<style>

:root {
--css-var-root-font-size: 12px;
font-size: var(--css-var-root-font-size);
--css-var-test-inline: none;
--css-var-column-1-none: 1fr;
--css-var-column-2-none: 1fr;
--css-var-column-3-none: 1fr;
--css-var-color-1: ;
--css-var-color-2: ;
--css-var-color-3: ;
--test: 'blue';

--advanced-display-var: none;
}
button{
border: none;
background-color: aliceblue;
border-radius: 1rem;
margin: 0.1rem;
}
.app{
width: 100vw;
}

.toggleDisplay_parent{
display: grid;
grid-template-columns: 1fr;
grid-template-rows: 4rem;
}

.header{
display: grid;
grid-template-columns: 1fr 1fr 1fr;
grid-template-rows: 4rem;
}
.contents{
width: 100vw;
display: grid;
grid-template-columns: var(--css-var-column-1-none) var(--css-var-column-2-none) var(--css-var-column-3-none);
}
.column-1-none{
visibility: hidden;
}
.column-2-none{
visibility: hidden;
}
.column-3-none{
visibility: hidden;
}
.textarea-column-1{
display: grid;
grid-template-columns: 1fr 1fr;
}
.textarea-column-2{
display: grid;
grid-template-rows: 4rem 1fr;
grid-template-columns: 1fr 1fr;
grid-template-areas:
"button-zone button-zone"
"question answer";
}
.column-1{background-color: var(--css-var-color-1)}
.column-2{background-color: var(--css-var-color-2)}
.column-3{background-color: var(--css-var-color-3)}
.a{
grid-area: button-zone;
display: grid;
grid-template-rows: 4rem;
grid-template-columns: 1fr 1fr 1fr;
}
.a-1{}
.a-2{}
.a-3{}
.b{
grid-area: question;
width: 100%;
}
.c{
grid-area: answer;
width: 100%;
}
.test-fn-none-inline {
height: 4rem;
display: var(--css-var-test-inline);
}
.textarea_none {
display: none;
}
.q_and_a{
display: grid;
grid-template-columns: 0.5fr 1fr 1fr 1fr 1fr;
justify-content: center;
align-content: center;
grid-auto-flow: column;
}
.q_and_a button{
display: inline-block;
width: auto;
min-height: 4rem;
word-break: break-all;
}
.check_button{
width: 100%;
height: 4rem;
justify-self: center;
align-self: center;
font-size: 3rem;
}
/* .link_button, */
.text_center{
display: inline-block;
width: auto;
min-height: 4rem;
font-size: 1.5rem;
align-self: center;
justify-self:center;
word-break: break-all;
}
.text_left{
text-align: start;
font-size: 1.5rem;
}
.text_right{
justify-self: center;
align-self: center;
font-size: 1.5rem;
}
.optional_function{
display: grid;
grid-template-columns: repeat(4, 1fr);
}
.optional_function button{
height: 4rem;
font-size: 1.5rem;
}
.q_a_processing{
width: 100%;
height: 4rem;
font-size: 3rem;
}
.save_data_set_list > *{
overflow: hidden;
white-space: nowrap;
}
.save_data_set_list{
display: grid;
grid-template-columns: 1fr 2.5rem 2.5rem;
word-break: break-all;
}
.save_data_set_list > span{
font-size: 1.3rem;
}
.save_data_set{}
.save_data_delete{}
.column_none{
font-size: 2rem;
}
.font_sizing{
font-size: 2.5rem;
}

.close{
--FITB-button-ul-height: 5vh;
--FITB-li-visibility: hidden;
--FITB-collapse-display: none;
}


/* for_online_function */
.simple_mode2 {
    /* simple_funtionableç”¨ã®ç©ºã®class */
}
.flex_child {
    display: flex;
}
.block_of_one {
    position: relative;
    margin-bottom: 1rem;
}
.data_type {
    display: inline-block;
    font-size: 1rem;
}
.data_type, .download_data, .go_to_any_service_page_with_id, .all_tags {
    display: inline-block;
}
.download_data, .go_to_any_service_page_with_id {
    font-size: 1.5rem;
}
.tags_parent, .tags {
    display: inline;
    font-size: 0.7rem;
}
.top_right {
    position: absolute;
    top: 0;
    right: 0;
    font-size: 1.5rem;
    cursor: pointer;
}
.bottom_right {
    position: absolute;
    bottom: 0;
    right: 0;
    font-size: 1.5rem;
}
.bottom_middle {
    position: absolute;
    bottom: 0;
    right: 50%;
    font-size: 1.4rem;
}
.dialog_ul {
    display: inline-block;
}
.dialog_li {
    display: inline-block;
}
.showDialog {
    display: inline-block;
}
.synapse {
    font-size: 2.5rem;
}
.created_at, .username, .id {
    display: inline-block;
    font-size: 0.7rem;
}
.comment_and_tag {
    padding: 10px;
    border: 1px solid black;
}
.bigger_font, .show_tag_more_button_all {
    font-size: 2rem;
    background-color: white;
    color: black;
    border: 1px solid black;
    margin: 0;
    padding: 0;
}
.vw_full {
    width: 100vw;
}
.additional_parent {
    display: flex;
    place-content: flex-start;
}
.additional_child {
    width: 31vw;
    font-size: 2rem;
    text-align: center;
}
.additional_child_small {
    width: 2vw;
}
.additional_child_small > * {
    display: inline-block;
}
.additional_child button {
    vertical-align: middle;
    border: 0.01rem solid #000000;
}
.fixed_element {
    z-index: 10;
    font-size: 2.5rem;
}
.fixed_element_top_right {
    position: fixed;
    top: 0;
    right: 0;
}
.fixed_element_top_left {
    position: fixed;
    top: 0;
    left: 0;
}
.fixed_element_bottom_right {
    position: fixed;
    bottom: 0;
    right: 0;
}
.fixed_element_bottom_left {
    position: fixed;
    bottom: 0;
    left: 0;
}
.display_none {
    display: none;
}
.data_a_b_text {
    font-size: 1.3rem;
}
.minimum {
}
.maximum {
    width: 100vw;
}
.name, .placeholder {
    height: 1.5rem;
}
.download_data {
    font-size: 3rem;
}
.advanced {
    display: var(--advanced-display-var);
    /* display: inline-block; */
}
.result_opener, .save_opener, .textarea_opener, .fetch_insert_link {
width: 100%;
height: 4rem;
font-size: 1.5rem;
position: relative;
}
/* for_online_function */




/* i_t_nç”¨CSS â†“ */
.centering{
}
.centering *{
    word-wrap: break-word;
    overflow: hidden;
  text-overflow: ellipsis;
    white-space: nowrap;
    width: 100%;
    text-align: center;
}
.OK_or_NG{
  font-size: 2rem;
}
.answer{
  font-size: 2rem;
}
.any{
  display: block;
}
.any > *{
  width: 6rem;
display: inline;
}




/* grid layout(grid-template-areas)ã§i_t_n_data9_x_parenté…ä¸‹ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«layoutã™ã‚‹ */
.i_t_n_data9_x_parent{
    display: grid;
    grid-template-areas:
    "OK_or_NG png_image png_image"
    "choose_answer_image_1 choose_answer_image_2 choose_answer_image_3";
}
.OK_or_NG{
    grid-area: OK_or_NG;
    font-size: 3rem;
}
.png_image{
    grid-area: png_image;
    height: 5rem;
}
.common_choose_the_answer_image{
    height: 3rem;
    font-size: 2.5rem;
}
.choose_the_answer_image_0{
    grid-area: choose_answer_image_1;
}
.choose_the_answer_image_1{
    grid-area: choose_answer_image_2;
}
.choose_the_answer_image_2{
    grid-area: choose_answer_image_3;
}





/* ä»¥ä¸‹ã¯æœªä½¿ç”¨ã®ãŸã‚ã€å‰Šé™¤äºˆå®š
.result_color
.result_color2
*/

/* i_t_nç”¨CSS â†‘ */



</style>


</head>
<body class="app">
    <div v-for="(item, IDX) in i_t_n_data9_x" :key="item" :style="{display: i_t_n_data9_result ? 'block' : 'none'}">
<div class="i_t_n_data9_x_parent">
        <div class="OK_or_NG">{{ i_t_n_true_or_false_to_emoji(item[2]) }}</div>
        <img :src="item[0]" :alt="item[0]" class="png_image" >
        <!-- <span v-for="(item2,item2_IDX) in item[1][1]" class="choose_answer_image_parent"> -->
            <button v-for="(item2,item2_IDX) in item[1][1]" 
                :class="'common_choose_the_answer_image choose_the_answer_image_'+item2_IDX"
                @click="i_t_n_check_name_to_image(item[1][0], item2, IDX)">
                    {{ item2 }}
            </button>
        <!-- </span> -->
        <!-- <span v-for="(item2,item2_IDX) in item[1][1]" class="choose_answer_image_parent">
            <button :class="'choose_answer_image choose_answer_image_'+item2_IDX" @click="i_t_n_check_name_to_image(item[1][0], item2, IDX)">{{ item2 }}</button>
        </span> -->
</div>
    </div>
    <!-- <button @click="i_t_n_filter_image_and_name" class="check_button">ğŸ®</button> -->
    
</body>


<script>
// let online_data_B = null;
// let data_b = null;
// let q_a_data4 = null;
// let q_a_data5 = null;
// let data_a = null;
// let online_data_A = null;

const app = Vue.createApp({
data() {
return {
tmp_1: `cat
dog
halr
grf
eleph`,
tmp_2: `./asset/cat.png
./asset/dog.png
./asset/halr.png
./asset/grf.png
./asset/eleph.png`,


ABCDEF: "q_a",


// for f_i_b
f_i_b_all_save: [],
f_i_b_data1: '',
f_i_b_data2: '',
f_i_b_data3: [],
f_i_b_data4: [],
f_i_b_data5: '',
f_i_b_data6: [],
f_i_b_data7: [],
f_i_b_data8: [],
f_i_b_data9: [],

// Xã¯ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ™‚ã«ä»–ã®ãƒŠãƒ³ãƒãƒªãƒ³ã‚°ã®å¤‰æ•°ã¨è¢«ã‚‰ãªã„ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ã‚‚ã®
f_i_b_data_X_1: [],
f_i_b_data_X_2: [],
f_i_b_data_X_3: [],
f_i_b_data_X_4: [],
f_i_b_data_X_5: [],
// f_i_b_test_mode: true,
f_i_b_test_mode: false,
// for f_i_b


// for i_t_n
i_t_n_all_save: [],

i_t_n_data2:'',
i_t_n_ary_data2: [],
i_t_n_data3:'',
i_t_n_ary_data3: [],
i_t_n_data4:[],
i_t_n_data5:[],
i_t_n_data8:[],

// i_t_n_data9:[],
i_t_n_data9: [
    [
        "cat",
        [
            "./asset/cat.png",
            [
                "./asset/cat.png",
                "./asset/dog.png",
                "./asset/eleph.png"
            ]
        ],
        false
    ],
    [
        "dog",
        [
            "./asset/dog.png",
            [
                "./asset/cat.png",
                "./asset/dog.png",
                "./asset/halr.png"
            ]
        ],
        false
    ],
    [
        "halr",
        [
            "./asset/halr.png",
            [
                "./asset/grf.png",
                "./asset/cat.png",
                "./asset/halr.png"
            ]
        ],
        false
    ],
    [
        "grf",
        [
            "./asset/grf.png",
            [
                "./asset/cat.png",
                "./asset/eleph.png",
                "./asset/grf.png"
            ]
        ],
        false
    ],
    [
        "eleph",
        [
            "./asset/eleph.png",
            [
                "./asset/eleph.png",
                "./asset/dog.png",
                "./asset/cat.png"
            ]
        ],
        false
    ]
],

i_t_n_data9_x: [],
// i_t_n_data5_result: true,

i_t_n_data9_result: true,

i_t_n_test_mode: false,
// for i_t_n


all_save: [],
online_data_B: [],
data_b: '',
q_a_data4: [],
q_a_data5: [],
data_a: '',
online_data_A: [],
// online_data_A1: '',
test_mode: true,
column_1_none: false,
column_2_none: false,
column_3_none: false,
// progress_val: 0,


DATA_TYPE_ARRAY: [
    'q_a',
    'f_i_b',
    'i_t_n',
],

other_app_url_array: [
    'q_a',
    'f_i_b',
    'i_t_n',
],

current_index: 0,
only_one_q_a_mode: false,


// for_online_function
name: 'user1',
password: 'user_pass1',
tags: [],
search_tag: '',
web_data: {},
show_user: '',
show_tag: '',
show_order_by: 'DESC',
data_type: 'q_a',
link: '',
truncate_text_length: 100,
untruncate_text_array: [],
// endpoint: 'http://localhost:8000',
endpoint: 'https://cotton-concrete-catsup.glitch.me',
only_q_a_list: [],
only_f_i_b_list: [],
only_i_t_n_list: [],
temporary_list: [],
simple_funtionable_flag: false,
only_show_flag: false,
tag_more_visible: false,
comment_button_visible: false,
synapse_visible: false,
comment_and_tag_visible: false,
textarea_visible: false,

advanced_visible: 'not_advanced',
// for_online_function

}},
watch: {
// i_t_n_data2: {
//     handler() {
//         this.i_t_n_init();
//     },
//     deep: true
// },
// i_t_n_data3: {
//     handler() {
//         this.i_t_n_init();
//     },
//     deep: true
// },

f_i_b_data1: {
    handler() {
        this.f_i_b_data3_setup();
        this.f_i_b_data4_5_setup();
        this.f_i_b_exe();
    },
    deep: true
},
f_i_b_data2: {
    handler() {
        this.f_i_b_data3_setup();
        this.f_i_b_data4_5_setup();
        this.f_i_b_exe();
    },
    deep: true
},

data_b: {
    handler() {
    this.all_error_check();
    this.q_a_processing();
    },
    deep: true
},
data_a: {
    handler() {
    this.all_error_check();
    this.q_a_processing();
    },
    deep: true
},

show_user: {
    async handler(newVal, oldVal) {
        await this.fetch_read_all();
    },
    deep: true,
},
show_tag: {
    async handler(newVal, oldVal) {
        await this.fetch_read_all();
    },
    deep: true,
},
show_order_by: {
    async handler(newVal, oldVal) {
        await this.fetch_read_all();
    },
    deep: true,
},



// for_online_function
// separate_each_listã‚’deep watchã™ã‚‹
web_data: {
    handler: function (newVal, oldVal) {
        this.separate_each_list();
    },
    deep: true,
},
advanced_visible: {
    handler: function (newVal, oldVal) {
        this.advanced_visible === 'advanced' ? this.css_var_set('--advanced-display-var', 'inline-block') : this.css_var_set('--advanced-display-var', 'none');
    },
    deep: true,
},
// for_online_function


},
beforeCreate(){
},
created(){
this.css_var_set('--css-var-root-font-size', "12px");
},
beforeMount(){
},
mounted() {
this.fetch_read_all();
this.fetch_get_tags_for_autocomplete();

this.q_a_processing();
this.save_data_load();
// this.fn15();
// this.toggleDisplay();
this.advanced_visible_fn();
this.test_mode === false ? this.test_exe() : null;

if(this.ABCDEF === "f_i_b"){
    // this.f_i_b_save_data_load();
    this.data_a_b_converter_for('f_i_b');
    this.f_i_b_data3_setup();
    this.f_i_b_data4_5_setup();
    this.f_i_b_exe();
    this.f_i_b_test_mode === true ? this.f_i_b_test_exe() : null;
};
if(this.ABCDEF === "i_t_n"){
    // this.i_t_n_save_data_load();
    this.i_t_n_init();
    this.test_mode === true ? (this.sample1(), sleep(100, this.test_exe)) : null;
};


this.i_t_n_data9_x_setup();

},
beforeUpdate() {
},
async updated() {
    this.change_to_i_t_n();

    // this.tmp_test_data_insert();

    // this.data_type = 'i_t_n';
    // this.tmp_test_data_insert();
    // await this.download_data_from_web_data_id();
},
methods: {


// core of i_t_n

// this.data10 = [];
// this.data10_f_i_b = [];

// i_t_n_data2 i_t_n_i_t_n_data2
// i_t_n_data3 i_t_n_i_t_n_data3
// i_t_n_data4 i_t_n_i_t_n_data4
// i_t_n_data5 i_t_n_i_t_n_data5
// i_t_n_data8 i_t_n_i_t_n_data8
// i_t_n_data9 i_t_n_i_t_n_data9

// i_t_n_ary_data2 i_t_n_i_t_n_ary_data2
// i_t_n_ary_data3 i_t_n_i_t_n_ary_data3
// i_t_n_ary_data6 i_t_n_i_t_n_ary_data6
// i_t_n_ary_data7 i_t_n_i_t_n_ary_data7

// i_t_n_data5_result i_t_n_data5_result
// i_t_n_data9_result i_t_n_data9_result

// i_t_n_data2_data3_string_to_array i_t_n_i_t_n_data2_i_t_n_data3_string_to_array
// i_t_n_data6_data7_string_to_array i_t_n_i_t_n_data6_data7_string_to_array
// i_t_n_change_result i_t_n_i_t_n_change_result
// i_t_n_take2 i_t_n_i_t_n_take2
// i_t_n_swap_data6_data7 i_t_n_i_t_n_swap_data6_data7
// i_t_n_make_image_to_name_Q_A_array i_t_n_i_t_n_make_image_to_name_Q_A_array
// i_t_n_erase i_t_n_i_t_n_erase
// check_image_to_name
// check_name_to_image


i_t_n_erase(item, ary){
    // æŒ‡å®šã—ãŸè¦ç´ ã‚’é…åˆ—ã‹ã‚‰å‰Šé™¤ã™ã‚‹ramda.jsã‚’ä½¿ã£ãŸ1è¡Œã®é–¢æ•°
    const ers = R.curry((item, ary) => R.filter(R.complement(R.equals(item)), ary));
    return ers(item, ary);
},
i_t_n_take2(ary){
    // æŒ‡å®šã—ãŸè¦ç´ ã‹ã‚‰å…ˆé ­ã‹ã‚‰2ã¤ã®è¦ç´ ã‚’å–ã‚Šå‡ºã™ramda.jsã‚’ä½¿ã£ãŸ1è¡Œã®é–¢æ•°
    const i_t_n_take2 = R.compose(R.take(2), R.drop(1));
    return i_t_n_take2(ary);
},
i_t_n_data2_data3_string_to_array(){
    this.i_t_n_ary_data2 = this.i_t_n_data2.split("\n")
    this.i_t_n_ary_data3 = this.i_t_n_data3.split("\n")
},
i_t_n_make_image_to_name_Q_A_array(){
    // this.i_t_n_data4 = this.to_ary(this.i_t_n_ary_data3).map(V=> [V, this.i_t_n_take2(shuffle(this.i_t_n_erase(V, this.i_t_n_ary_data3)))]);
    const ary_a = this.to_ary(this.i_t_n_ary_data3).map(V=> [V, this.i_t_n_take2(shuffle(this.i_t_n_erase(V, this.i_t_n_ary_data3)))]
    );
    // this.i_t_n_data4 = this.to_ary(this.i_t_n_data4).map(V=> [V[0], shuffle(R.flatten(V))]);

    // this.i_t_n_data4 = this.to_ary(ary_a).map(V=> [V[0], shuffle(R.flatten(V))]);
    const ary_b = this.to_ary(ary_a).map(V=> [V[0], shuffle(R.flatten(V))]);
    
    // this.i_t_n_data5 = R.zip(this.i_t_n_ary_data2, ary_b);
    const ary_c = R.zip(this.i_t_n_ary_data2, ary_b);
    // i_t_n_data5ã®ãã‚Œãã‚Œã®é…åˆ—ã®3ã¤ç›®ã«falseã‚’æŒ¿å…¥ã™ã‚‹ramda.jsã®é–¢æ•°

    this.i_t_n_data5 = R.map(R.insert(2, false), ary_c);

    // this.for_debug();
},
i_t_n_init(){
    this.data_a_b_converter_for('i_t_n');
    // console.log(this.i_t_n_data5);
    this.i_t_n_data2_data3_string_to_array();
    this.i_t_n_make_image_to_name_Q_A_array();
},
i_t_n_check_image_to_name(correct_URL, URL, IDX){
    this.i_t_n_data5[IDX][2] = correct_URL === URL ? true : false;
},
i_t_n_check_name_to_image(correct_URL, URL, IDX){
    // this.i_t_n_data9[IDX][2] = correct_URL === URL ? true : false;
},
i_t_n_data6_data7_string_to_array(){
    this.i_t_n_ary_data6 = this.i_t_n_data2.split("\n")
    this.i_t_n_ary_data7 = this.i_t_n_data3.split("\n")
},
i_t_n_swap_data6_data7(){
    // swap_:i_t_n_ary_data6ã¨i_t_n_ary_data7ã‚’å…¥ã‚Œæ›¿ãˆã‚‹é–¢æ•°
    [this.i_t_n_ary_data6, this.i_t_n_ary_data7] = [this.i_t_n_ary_data7, this.i_t_n_ary_data6];
},
i_t_n_change_result(){
    // i_t_n_data5_resultã¨i_t_n_data9_resultã®true/falseã®åˆ‡ã‚Šæ›¿ãˆ
    this.i_t_n_data5_result = !this.i_t_n_data5_result;
    this.i_t_n_data9_result = !this.i_t_n_data9_result;
},
i_t_n_swap_q_a(){
    this.i_t_n_data6_data7_string_to_array();
    this.i_t_n_swap_data6_data7();
    this.i_t_n_change_result();
    const ary_a = this.to_ary(this.i_t_n_ary_data7).map(V=> [V, this.i_t_n_take2(shuffle(
            this.i_t_n_erase(V, this.i_t_n_ary_data7)
        ))]
    );
    // this.i_t_n_data8 = this.to_ary(this.i_t_n_ary_data7).map(V=> [V, this.i_t_n_take2(shuffle(
    //         this.i_t_n_erase(V, this.i_t_n_ary_data7)
    //     ))]
    // );
    // this.i_t_n_data8 = this.to_ary(ary_a).map(V=> [V[0], shuffle(R.flatten(V))]);
    const ary_b = this.to_ary(ary_a).map(V=> [V[0], shuffle(R.flatten(V))]);
    // this.i_t_n_data9 = R.zip(this.i_t_n_ary_data6, this.i_t_n_data8);
    const ary_c = R.zip(this.i_t_n_ary_data6, ary_b);
    // this.i_t_n_data9 = R.zip(this.i_t_n_ary_data6, ary_b);
    // i_t_n_data9ã®ãã‚Œãã‚Œã®é…åˆ—ã®3ã¤ç›®ã«falseã‚’æŒ¿å…¥ã™ã‚‹ramda.jsã®é–¢æ•°
    this.i_t_n_data9 = R.map(R.insert(2, false), ary_c);
    // this.i_t_n_data9 = R.map(R.insert(2, false), this.i_t_n_data9);
    // this.for_debug();
},
i_t_n_filter_image_and_name(){
    if(this.i_t_n_data5.map(V=>V[2]).every(V=>V === true)){
        this.i_t_n_data5 = [];
        alert("ã™ã¹ã¦ã®å•é¡ŒãŒæ­£è§£ã—ã¾ã—ãŸã€‚ğŸ¦–\nã™ã¹ã¦ã®å•é¡ŒãŒæ­£è§£ã—ã¾ã—ãŸã€‚ğŸ¦•");
        return;
    }
    const res1 = this.i_t_n_data5.filter(V=>V[2] === false);
    const res2 = R.transpose(
        res1.map(V=> [V[0], V[1][0]])
    );
    this.data10.push([res2[0].join("\n"), res2[1].join("\n")]);
    this.for_debug();
},
i_t_n_true_or_false_to_emoji(bool){
    // trueã ã£ãŸã‚‰â­•ï¸ã€falseã ã£ãŸã‚‰âã‚’è¿”ã™é–¢æ•°
    return bool ? "â­•ï¸" : "â";
},
// core of i_t_n




// core of f_i_b

// this.data10 = [];
// this.data10_f_i_b = [];

// data3_setup f_i_b_data3_setup
// data4_5_setup f_i_b_data4_5_setup
// f_i_b_composer
// f_i_b_filter_and_DESC_sort_and_remove_short_str f_i_b_f_i_b_filter_and_DESC_sort_and_remove_short_str
// f_i_b_fn2_1 f_i_b_f_i_b_fn2_1
// f_i_b_fn3 f_i_b_f_i_b_fn3
// f_i_b_fn4_4 f_i_b_f_i_b_fn4_4
// f_i_b_fn4_3 f_i_b_f_i_b_fn4_3
// f_i_b_fn4( f_i_b_f_i_b_fn4()
// exe f_i_b_exe
// check_option f_i_b_check_option

// f_i_b_for_debug f_i_b_f_i_b_for_debug
// f_i_b_get_shuffled_array f_i_b_f_i_b_get_shuffled_array
// f_i_b_remove_empty_str_from_ary f_i_b_f_i_b_remove_empty_str_from_ary
// f_i_b_remove_index_0 f_i_b_f_i_b_remove_index_0
// f_i_b_test_exe f_i_b_f_i_b_test_exe
// fn5 f_i_b_fn5


f_i_b_data3_setup(){
    this.f_i_b_data3 = this.f_i_b_data1.split("\n");
},
f_i_b_filter_and_DESC_sort_and_remove_short_str(){
    // ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã—ã¦é•·ã•ã§é™é †ã‚½ãƒ¼ãƒˆã—ã€é‡è¤‡ã—ãŸçŸ­ã„è¦ç´ ã‚’é™¤å¤–ã™ã‚‹ã€‚strã«å«ã¾ã‚Œãªã„è¦ç´ ã¯é™¤å¤–ã•ã‚Œã‚‹
    // ['fo', 'foo', 'æ—¥', 'qux', 'qx', 'æ—¥æœ¬', 'blabla', 'brabra', 'bowbow']ã®ã‚ˆã†ãªè¦ç´ ã®ãã®è¦ç´ ãŒå«ã‚€æ–‡å­—åˆ—ãŒã‚ã‚‹å ´åˆã«ã€é•·ã„æ–‡å­—åˆ—ã®è¦ç´ ã‚’æ®‹ã—ã¦çŸ­ã„æ–‡å­—åˆ—ã‚’å‰Šé™¤ã™ã‚‹é–¢æ•°
    // ã“ã®å ´åˆ'fo'ã¨'æ—¥'ã¯å‰Šé™¤ã•ã‚Œã‚‹
    const remove_short_str = (ary) => ary.filter(V => !ary.some(VAL => VAL !== V && VAL.includes(V)));
    this.f_i_b_data4 = remove_short_str(
        this.f_i_b_data3.filter(v => this.f_i_b_data2.includes(v)).sort((a, b) => b.length - a.length));
},
f_i_b_data4_5_setup(){
    this.f_i_b_filter_and_DESC_sort_and_remove_short_str();
    this.f_i_b_data5 = this.f_i_b_data4.join("\n");
},
f_i_b_remove_index_0(ary) {
    // é…åˆ—ã®æœ€åˆã®è¦ç´ ã‚’å‰Šé™¤ã™ã‚‹
    return R.remove(0, 1, ary);
},
f_i_b_fn2_1(target_str, replacer_str) {
    // æ­£è¦è¡¨ç¾ã«ã‚ˆã‚‹åˆ†å‰²ã¨åŒºåˆ‡ã‚Šæ–‡å­—ã®æŒ¿å…¥ã‚’çµ„ã¿åˆã‚ã›ã‚‹
    // JSã®æ­£è¦è¡¨ç¾ã§ä½¿ã†è¨˜å·ã‚’å…¨ã¦ã‚µãƒ‹ã‚¿ã‚¤ã‚ºã™ã‚‹JSã®é–¢æ•°escape_reg_expã‚’constå½¢å¼ã®1è¡Œé–¢æ•°ã§
    const escape_reg_exp = string => string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
    const escaped_result = escape_reg_exp(replacer_str);
    const RESULT = R.intersperse([escaped_result], target_str.split(new RegExp(escaped_result)))
    return RESULT;
},
f_i_b_get_shuffled_array(ARG_ARY, VAL){
    // ARG_ARYã‹ã‚‰VALã‚’é™¤å¤–ã—ã€ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã—ãŸé…åˆ—ã‹ã‚‰å…ˆé ­2ã¤ã®è¦ç´ ã‚’å–å¾—ã—ã€VALã¨çµåˆã—ã€ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã—ãŸé…åˆ—ã‚’è¿”ã™
    // ä¸ãˆã‚‰ã‚ŒãŸé…åˆ— ary ã‹ã‚‰è¦ç´  val ã‚’å–ã‚Šé™¤ã„ãŸæ–°ã—ã„é…åˆ—ã‚’è¿”ã™ã‚¢ãƒ­ãƒ¼é–¢æ•°
    const remove_any_elelemnt_from_ary_one_liner = (ary, val) => ary.filter(V=> V !== val);
    return shuffle(shuffle(remove_any_elelemnt_from_ary_one_liner(ARG_ARY, VAL)).slice(0, 2).concat(VAL));
},
f_i_b_composer() {
    // [
    //     [VAL, ['', VAL, BAR, BAZ],
    //     [BAR, ['', BAR, VAL, BAZ],
    //     [BAZ, ['', VAL, BAR, BAZ],
    // ]
    // ä¸Šè¨˜ã®ã‚ˆã†ã«[æ­£è§£, [ç©ºæ–‡å­—, ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã•ã‚ŒãŸæ­£è§£ã‚’å«ã‚€3ã¤ã®è¦ç´ ]]ã®é…åˆ—ã‚’ä½œæˆã™ã‚‹
    this.f_i_b_data7 = this.f_i_b_data4.map(VAL => {
        return [VAL, R.insert(0, '', this.f_i_b_get_shuffled_array(this.f_i_b_data4, VAL)), false];
    });
},
f_i_b_fn3() {
    let RESULT_ARRAY = [];
    const fn2 = (target_str, replacer_str_ary) => {
        if (replacer_str_ary.length <= 0) {
            return target_str;
        } else {
            // æ–‡å­—åˆ—ã®å ´åˆã«ã®ã¿é–¢æ•°ã‚’é©ç”¨ã—ã€æ–‡å­—åˆ—ã§ãªã‘ã‚Œã°ãã®ã¾ã¾è¿”ã™
            const result = (typeof target_str === 'string') ? this.f_i_b_fn2_1(target_str, replacer_str_ary[0]) : target_str;
            replacer_str_ary = this.f_i_b_remove_index_0(replacer_str_ary);
            // å†å¸°
            let res = result.map(V=>fn2(V, replacer_str_ary));
            res.includes(undefined) === false ? RESULT_ARRAY.push(res) : null;
        }
    };
    fn2(this.f_i_b_data2, this.f_i_b_data4);
    this.f_i_b_data8 = RESULT_ARRAY;
},
f_i_b_fn4() {
    // 2æ¬¡å…ƒé…åˆ—ã‚’1æ¬¡å…ƒé…åˆ—ã«å¤‰æ›ã—ã€å„è¦ç´ ã«å¯¾ã—ã¦åˆ¥ã®é…åˆ—ã«å«ã¾ã‚Œã‚‹ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã€ä¸€è‡´ã™ã‚‹è¦ç´ ã‚’åˆ¥ã®é…åˆ—ã‹ã‚‰å–å¾—ã—ã¦ã€æœ€çµ‚çš„ãª1æ¬¡å…ƒé…åˆ—ã‚’ç”Ÿæˆã™ã‚‹å‡¦ç†
    this.f_i_b_data6 = R.flatten(this.f_i_b_data8).map(V=>{
        return this.f_i_b_data4.includes(V) ?
                    this.f_i_b_data7.filter(VAL=>VAL[0]===V)[0] :
                    V
    });
},
f_i_b_remove_empty_str_from_ary() {
    // é…åˆ—ã‹ã‚‰''ã‚’é™¤å¤–ã™ã‚‹
    this.f_i_b_data9 = this.f_i_b_data6.filter(V => V !== '');
},
// css_var_set(VAR_NAME, VAR){
// document.documentElement.style.setProperty(VAR_NAME, VAR);
// },
f_i_b_test_exe(){
this.css_var_set('--css-var-test-inline', 'inlilne');
this.css_var_set('--css-var-color-1', 'LightGray');
this.css_var_set('--css-var-color-2', 'SlateGray');
this.css_var_set('--css-var-color-3', 'DimGray');
},
f_i_b_for_debug(){
data1 = this.to_ary(this.f_i_b_data1);
data2 = this.to_ary(this.f_i_b_data2);
data3 = this.to_ary(this.f_i_b_data3);
f_i_b_data4 = this.to_ary(this.f_i_b_data4);
f_i_b_data5 = this.to_ary(this.f_i_b_data5);
data6 = this.to_ary(this.f_i_b_data6);
data7 = this.to_ary(this.f_i_b_data7);
data8 = this.to_ary(this.f_i_b_data8);
data9 = this.to_ary(this.f_i_b_data9);
data_X_1 = this.to_ary(this.f_i_b_data_X_1);
data_X_2 = this.to_ary(this.f_i_b_data_X_2);
data_X_3 = this.to_ary(this.f_i_b_data_X_3);
data_X_4 = this.to_ary(this.f_i_b_data_X_4);
data_X_5 = this.to_ary(this.f_i_b_data_X_5);
console.log(
'f_i_b_data1:' , data1, '\n',
'f_i_b_data2:' , data2, '\n',
'f_i_b_data3:' , data3, '\n',
'f_i_b_data4:' , f_i_b_data4, '\n',
'f_i_b_data5:' , f_i_b_data5, '\n',
'f_i_b_data6:' , data6, '\n',
'f_i_b_data7:' , data7, '\n',
'f_i_b_data8:' , data8, '\n',
'f_i_b_data9:' , data9, '\n',
'f_i_b_data_X_1' , data_X_1, '\n',
'f_i_b_data_X_2' , data_X_2, '\n',
'f_i_b_data_X_3' , data_X_3, '\n',
'f_i_b_data_X_4' , data_X_4, '\n',
'f_i_b_data_X_5' , data_X_5, '\n',
);
},
f_i_b_exe(){
    this.f_i_b_composer();
    this.f_i_b_fn3();
    this.f_i_b_fn4();
    this.f_i_b_remove_empty_str_from_ary();
    // this.data1 = this.f_i_b_data1;
    // this.data2 = this.f_i_b_data2;
    // this.f_i_b_test_mode === true ? this.f_i_b_test_exe() : null;
    // this.f_i_b_test_mode === true ? this.f_i_b_for_debug() : null;
},
f_i_b_check_option(INDEX){
    // this.f_i_b_data9ã‹ã‚‰arrayã®è¦ç´ ã ã‘ã‚’å–ã‚Šå‡ºã™ä¸€è¡Œã‚³ãƒ¼ãƒ‰
    this.f_i_b_data9[INDEX][2] =
        this.f_i_b_data9[INDEX][0] === this.$refs.core[INDEX].value ? true : false;
    this.$refs.core[INDEX].style.backgroundColor =
        this.f_i_b_data9[INDEX][0] === this.$refs.core[INDEX].value
            ? '' :
            '#F9E4C6'; //ãƒŸãƒ«ãƒ¬ãƒ¼ã‚¸ãƒ¥ï¼ˆMille Feuilleï¼‰
            // '#D6A5A5'; //ãƒ€ã‚¹ãƒ†ã‚£ãƒ­ãƒ¼ã‚ºï¼ˆDusty Roseï¼‰
            // '#8A9A5B'; //ãƒ¢ã‚¹ã‚°ãƒªãƒ¼ãƒ³ï¼ˆMoss Greenï¼‰
            // '#B0E0E6'; //ãƒ‘ã‚¦ãƒ€ãƒ¼ãƒ–ãƒ«ãƒ¼ï¼ˆPowder Blueï¼‰
            // '#E2725B'; //ãƒ†ãƒ©ã‚³ãƒƒã‚¿ï¼ˆTerracottaï¼‰
            // '#36454F'; //ãƒãƒ£ã‚³ãƒ¼ãƒ«ã‚°ãƒ¬ãƒ¼ï¼ˆCharcoal Grayï¼‰
            // '#6699CC'; //ãƒ–ãƒ«ãƒ¼ã‚°ãƒ¬ã‚¤ï¼ˆBlue Grayï¼‰
            // '#98FF98'; //ãƒŸãƒ³ãƒˆã‚°ãƒªãƒ¼ãƒ³ï¼ˆMint Greenï¼‰
            // '#B76E79'; //ãƒ­ãƒ¼ã‚ºã‚´ãƒ¼ãƒ«ãƒ‰ï¼ˆRose Goldï¼‰
            // '#800000'; //ãƒãƒ«ãƒ¼ãƒ³ï¼ˆMaroonï¼‰
    this.f_i_b_data_X_2 = this.f_i_b_data9
        .filter(V=>Array.isArray(V)).filter(V=>V[2]===false);
    this.f_i_b_data_X_3 = this.f_i_b_data4
        .filter(V=>R.pluck(0, this.f_i_b_data_X_2).includes(V));
    this.f_i_b_data_X_4 = this.f_i_b_data_X_3.join("\n");
    this.f_i_b_for_debug();
},
f_i_b_fn4_3(){
    this.f_i_b_data_X_1.push([
        this.f_i_b_data_X_4,
        this.f_i_b_data2,
    ]);
},
f_i_b_fn4_4(){
    return this.f_i_b_data9.filter(V=>Array.isArray(V)).every(V=>V[2]===true);
},
f_i_b_fn5(){
if(this.f_i_b_fn4_4()){
    window.alert("æ­£è§£ã§ã™ï¼");
    return;
};
    this.f_i_b_fn4_3();
},
// core of f_i_b



async throw_error_for_local_save_data() {
    // this.data_typeãŒç©ºã‹ã€
    // DATA_TYPE_ARRAYã«å«ã¾ã‚Œã¦ã„ãªã„å ´åˆã¯å‡¦ç†ã‚’ä¸­æ–­ã™ã‚‹
    if(this.data_type === '' || this.data_type === null || this.data_type === undefined
        || !this.DATA_TYPE_ARRAY.includes(this.data_type)){
            // ã‚¨ãƒ©ãƒ¼ã‚’returnã§è¿”ã™
            return (new Error('en: this.data_type is not correct, ja: this.data_typeãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“'));
    };
},
async save_data_to_all_save(){
    try {
    await this.throw_error_for_local_save_data();
    const item_key = this.data_type;
    this.all_save.push(this.to_ary([this.data_a, this.data_b]));
    await localforage.setItem(item_key, JSON.stringify(this.all_save));
    } catch (error) {
        console.log(error);
    };
},
async save_data_load() {
    try {
    await this.throw_error_for_local_save_data();
    const item_key = this.data_type;
    this.all_save = JSON.parse(await localforage.getItem(item_key)) || [];
    } catch (error) {
        console.log(error);
    }
},
async save_data_delete(INDEX){
    try {
    await this.throw_error_for_local_save_data();
    const item_key = this.data_type;
    if (window.confirm("Do you really want to delete??ğŸ¦–\næœ¬å½“ã«å‰Šé™¤ã™ã‚‹ï¼Ÿ?ğŸ¦•\n" + R.zip(this.all_save[INDEX][0].split("\n"), this.all_save[INDEX][1].split("\n")).join("\n") )) {
        this.all_save.splice(INDEX, 1);
        await localforage.setItem(item_key, JSON.stringify(this.all_save));
    };
    } catch (error) {
        console.log(error);
    }
},

save_data_set(INDEX){
    this.scrollToTarget('local');
    this.data_a = this.all_save[INDEX][0];
    this.data_b = this.all_save[INDEX][1];
},






fn9(IDX){
this.data_a = this.online_data_A[IDX][0];
this.data_b = this.online_data_A[IDX][1];
},
reverse_q_a(){
this.data_a = this.data_a.split("\n").reverse().join("\n");
this.data_b = this.data_b.split("\n").reverse().join("\n");
},
shuffle_q_a(){
shuffled_data = R.transpose(shuffle(R.zip(
    this.data_a.split("\n"),
    this.data_b.split("\n")
)));
this.data_a = shuffled_data[0].join("\n");
this.data_b = shuffled_data[1].join("\n");
},
swap_q_a(){
[tmp0, tmp1] = [this.data_a, this.data_b];
[this.data_a, this.data_b] = [tmp1, tmp0];
},
fn16(INDEX){
this.online_data_A.splice(INDEX, 1);
},
fn17(INDEX){
const TARGET_INDEX_FIRST = INDEX * 2;
const TARGET_INDEX_SECOND = INDEX * 2 + 1;
this.$refs.results[TARGET_INDEX_FIRST].style.display =
this.$refs.results[TARGET_INDEX_SECOND].style.display =
    this.$refs.results[TARGET_INDEX_FIRST].style.display === "block"
    ||
    this.$refs.results[TARGET_INDEX_FIRST].style.display === '' ? "none" : "block";
},
fn18(){
    const RESULTS = this.$refs.results;
        RESULTS.map(ELM=>ELM.style.display).some(DISPLAY=>DISPLAY==='block' || DISPLAY==='') ?
            RESULTS.map(ELM=>ELM.style.display = 'none') :
            RESULTS.map(ELM=>ELM.style.display = 'block');
},
fn19_0(){
    const THE_STYLE_DISPLAY1 = this.$refs.save_data_set_list_parent1.style.display;
    this.$refs.save_data_set_list_parent1.style.display = (THE_STYLE_DISPLAY1 === 'block' || THE_STYLE_DISPLAY1 === '') ? 'none' : 'block';
},
fn19_1(){
    const THE_STYLE_DISPLAY2 = this.$refs.save_data_set_list_parent2.style.display;
    this.$refs.save_data_set_list_parent2.style.display = (THE_STYLE_DISPLAY2 === 'block' || THE_STYLE_DISPLAY2 === '') ? 'none' : 'block';
},
fn21(ONE_UP_OR_ONE_DOWN_OR_12px){
ONE_UP_OR_ONE_DOWN_OR_12px = ONE_UP_OR_ONE_DOWN_OR_12px ? ONE_UP_OR_ONE_DOWN_OR_12px : '12px';
num_px_string = (
        Number(
            document.documentElement.style.getPropertyValue('--css-var-root-font-size').split("px")[0]
        ) + (ONE_UP_OR_ONE_DOWN_OR_12px)
    ).toString() + 'px';
this.css_var_set('--css-var-root-font-size', num_px_string);
},



is_not_blank(STR){
return STR.length > 0;
},
blank_check(TARGET){
ELM = document.querySelector(TARGET);
ELM.style.backgroundColor = ELM.value.split("\n").every(V=>this.is_not_blank(V)) === false ? "cornflowerblue" : '';
},
check_if_same_length(){
const length_any_textarea = (TARGET) => document.querySelector(TARGET).value.split("\n").length;
const both_target_coloring = (COLOR) => document.querySelectorAll(".textarea-column-1 > textarea").forEach(TEXTAREA=>TEXTAREA.style.backgroundColor = COLOR || TEXTAREA.style.backgroundColor);
length_any_textarea("#textarea-column-1-1") === length_any_textarea("#textarea-column-1-2") ? both_target_coloring() : both_target_coloring('coral');
},
all_error_check(){
this.blank_check("#textarea-column-1-1");
this.blank_check("#textarea-column-1-2");
this.check_if_same_length();
},



css_var_set(VAR_NAME, VAR){
document.documentElement.style.setProperty(VAR_NAME, VAR);
},
column_1_none_fn(){
this.column_1_none === true ? (this.css_var_set('--css-var-column-1-none', '1fr'), this.column_1_none = false) : (this.css_var_set('--css-var-column-1-none', '0px'), this.column_1_none = true);
},
column_2_none_fn(){
this.column_2_none === true ? (this.css_var_set('--css-var-column-2-none', '1fr'), this.column_2_none = false) : (this.css_var_set('--css-var-column-2-none', '0px'), this.column_2_none = true);
},
column_3_none_fn(){
this.column_3_none === true ? (this.css_var_set('--css-var-column-3-none', '1fr'), this.column_3_none = false) : (this.css_var_set('--css-var-column-3-none', '0px'), this.column_3_none = true);
},
test_exe(){
// this.css_var_set('--css-var-test-inline', 'inlilne');
// this.css_var_set('--css-var-color-1', 'LightGray');
// this.css_var_set('--css-var-color-2', 'SlateGray');
// this.css_var_set('--css-var-color-3', 'DimGray');
// this.test0();
// this.test1();
// this.test2();
// this.tmp_test_data_insert();
},



to_ary(it){
return JSON.parse(JSON.stringify(it));
},
for_debug(){
online_data_B = this.to_ary(this.online_data_B);
data_b = this.to_ary(this.data_b);
// q_a_data4 = this.to_ary(this.q_a_data4);
q_a_data5 = this.to_ary(this.q_a_data5);
data_a = this.to_ary(this.data_a);
online_data_A = this.to_ary(this.online_data_A);
// online_data_A1 = this.to_ary(this.online_data_A1);
},
test0(){this.q_a_test_index(0)},
test1(){this.q_a_test_index(1)},
test2(){this.q_a_test_index(2)},
test_data0(){
    this.data_a = `Hello
Thank you
Goodbye
Yes
No
Please
Sorry
Excuse me
Good
Bad`;
    this.data_b = `ã“ã‚“ã«ã¡ã¯
ã‚ã‚ŠãŒã¨ã†
ã•ã‚ˆã†ãªã‚‰
ã¯ã„
ã„ã„ãˆ
ãŠé¡˜ã„ã—ã¾ã™
ã”ã‚ã‚“ãªã•ã„
å¤±ç¤¼ã—ã¾ã™
è‰¯ã„
æ‚ªã„`;
},
test_online_data_A(){
    this.data_a = `ã
ã‚ãƒã„
ã…ã†ã‡
ãˆã‰ãŠ
ã‹ãŒã
ããã
ã‘ã’ã“
ã”ã•ã–
ã—ã˜ã™
ãš`;
    this.data_b = `ã‚¡
ã‚¢ã‚£ã‚¤
ã‚¥ã‚¦ã‚§
ã‚¨ã‚©ã‚ª
ã‚«ã‚¬ã‚­
ã‚®ã‚¯ã‚°
ã‚±ã‚²ã‚³
ã‚´ã‚µã‚¶
ã‚·ã‚¸ã‚¹
ã‚º`;
},









// for_online_function
// only_service_data(){
//     this.temporary_list[0] = this.web_data.message.filter(V=> V.data_type === this.data_type);
// },
data_json_parse_online_data_A_online_data_B(JSON_STR_online_data_A_online_data_B){
    return JSON.parse(JSON_STR_online_data_A_online_data_B);
},
download_data(Data_Id){
    console.log(Data_Id);
    // const pre_online_data_A_2 = this.temporary_list[0].filter(V=>V.data_type === this.data_type).filter(V=> V.id === Data_Id )[0];
    const pre_online_data_A_2 = this.return_current_temporary_list().filter(V=>V.data_type === this.data_type).filter(V=> V.id === Data_Id )[0];
    // console.log(pre_online_data_A_2);
    const pre_online_data_A = this.data_json_parse_online_data_A_online_data_B(pre_online_data_A_2.data_json_str)['data1'];
    const pre_online_data_B = this.data_json_parse_online_data_A_online_data_B(pre_online_data_A_2.data_json_str)['data2'];
    // const pre_online_data_A = this.data_json_parse_online_data_A_online_data_B(pre_online_data_A_2.data_json_str)['online_data_A'];
    // const pre_online_data_B = this.data_json_parse_online_data_A_online_data_B(pre_online_data_A_2.data_json_str)['online_data_B'];
    // this.data_a = pre_online_data_A;
    // console.log(pre_online_data_A);
    this.online_data_A_connector(pre_online_data_A);
    // this.data_b = pre_online_data_B;
    this.online_data_B_connector(pre_online_data_B);
    this.all_error_check();
    this.q_a_processing();
    this.scrollToTarget('web');
},
date_time_form(DATE_TIME){
    // const date = new Date('2023-09-22T16:40:19.249Z');
    const date = new Date(DATE_TIME);
    const formattedDate = date.toLocaleString('ja-JP', {year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false});
    return formattedDate;
},
change_show_user(USER){
    this.show_user = USER;
},
show_all_user(){
    this.show_user = '';
},
change_show_tag(TAG){
    this.show_tag = TAG;
},
show_all_tag(){
    this.show_tag = '';
},
change_show_order_by(){
    this.show_order_by = this.show_order_by === 'DESC' ? 'ASC' : 'DESC';
},
async fetch_get_tags_for_autocomplete(){
    const res = await fetch(this.endpoint + '/get_tags_for_autocomplete', {method: 'POST',headers: {'Content-Type': 'application/json',},
        body: JSON.stringify({ name: this.name, password: this.password, search_tag: this.search_tag }),
    });
    const data = await res.json();
    this.tags = data['message'];
},

// this.online_data_A_connector()ã¨this.online_data_B_connector()ã«ã‚ˆã£ã¦ã€webã®online_data_Aã¨online_data_Bã¯å¤‰æ›ã•ã‚Œã‚‹ã€‚
online_data_A_connector(online_data_A_param){
    if(online_data_A_param){this.data_a = online_data_A_param};
    return this.data_a;
},
online_data_B_connector(online_data_B_param){
    if(online_data_B_param){this.data_b = online_data_B_param};
    return this.data_b;
},







truncateText(text, id) {
    if (text === undefined) { return };
    if (text.length > this.truncate_text_length && !this.untruncate_text_array.includes(id)) {
        return text.substring(0, this.truncate_text_length) + '...';
    } else {
        return text;
    }
},
short_or_long(id) {
    // untruncate_text_arrayã«idãŒå«ã¾ã‚Œã¦ã„ãªã„å ´åˆã¯è¿½åŠ ã™ã‚‹ã€‚å«ã¾ã‚Œã¦ã„ã‚‹å ´åˆã¯å‰Šé™¤ã™ã‚‹
    const is_include_id = this.untruncate_text_array.includes(id);
    is_include_id ? this.untruncate_text_array.splice(this.untruncate_text_array.indexOf(id), 1) : this.untruncate_text_array.push(id);
},

go_to_any_service_page(Service='portal'){
    switch (Service) {
        case 'portal': window.location.href = 'portal.html';break;
        case 'q_a': window.location.href = 'q_a.html';break;
        case 'f_i_b': window.location.href = 'f_i_b.html';break;
        case 'i_t_n': window.location.href = 'i_t_n.html';break;
        default: break;
    }
},


async download_data_from_web_data_id(){
    const id = (new URL(window.location.href).searchParams.get("id")) ? Number(new URL(window.location.href).searchParams.get("id")) : null;
    if(id === null){return};
    const result = await this.web_data.message
        .filter(V=> V['id'] === id && V['data_type'] === this.data_type)
        [0];
    if(result === undefined){return};
    this.download_data(result['id']);
},



separate_each_list(){
    this.only_q_a_list = this.web_data['message'].filter((DATA_VAL) => DATA_VAL['data_type'] === 'q_a');
    this.only_f_i_b_list = this.web_data['message'].filter((DATA_VAL) => DATA_VAL['data_type'] === 'f_i_b');
    this.only_i_t_n_list = this.web_data['message'].filter((DATA_VAL) => DATA_VAL['data_type'] === 'i_t_n');
    this.temporary_list = [
            this.only_q_a_list,
            this.only_f_i_b_list,
            this.only_i_t_n_list,
        ];
},
other_data_type(DATA_TYPE){
    return this.DATA_TYPE_ARRAY.filter(V=>V !== DATA_TYPE);
},
comment_and_tag_toggle() {
    this.comment_and_tag_visible = !this.comment_and_tag_visible;
},
choice_emoji(Service) {
    return Service === 'q_a' ? 'ğŸŸ°' : Service === 'f_i_b' ? 'ğŸ•³ï¸' : Service === 'i_t_n' ? 'ğŸ–¼ï¸' : 'ğŸ“';
},
showDialog() {
    // showDialogã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰.synapseã‚’è¡¨ç¤º/éè¡¨ç¤ºã®åˆ‡ã‚Šæ›¿ãˆã‚’ã™ã‚‹
    this.synapse_visible = !this.synapse_visible;
},
show_comment_button() {
    this.comment_button_visible = !this.comment_button_visible;
},
show_tag_more_button() {
    this.tag_more_visible = !this.tag_more_visible;
},


async fetch_read_all(){
    try {
    this.show_user = this.show_user === '' ? '' : this.show_user;
    this.show_tag = this.show_tag === '' ? '' : this.show_tag;
    const params_for_get = {
        user: this.show_user,
        tag: this.show_tag,
        order_by: this.show_order_by,
    };
    const url = new URL(this.endpoint + '/' + 'read_all');
    url.search = new URLSearchParams(params_for_get).toString();
    const res = await fetch(url, {method: 'GET', headers: {'Content-Type': 'application/json',},});
    this.web_data = await res.json(); console.log(this.web_data);
    } catch (error) {
        console.log(error);
    }
},
// async fetch_read_all(){
//     this.show_user = this.show_user === '' ? '' : this.show_user;
//     this.show_tag = this.show_tag === '' ? '' : this.show_tag;
//     const params_for_get = {
//         user: this.show_user,
//         tag: this.show_tag,
//         order_by: this.show_order_by,
//     };
//     const url = new URL(this.endpoint + '/' + 'read_all');
//     url.search = new URLSearchParams(params_for_get).toString();
//     const res = await fetch(url, {method: 'GET', headers: {'Content-Type': 'application/json',},});
//     this.web_data = await res.json(); console.log(this.web_data);
//     this.only_service_data();
//     await this.download_data_from_web_data_id();
// },


// req.body.data_type, req.body.data_json
async fetch_insert_link(){
try {
    const error_check_online_data_A_online_data_B = (online_data_A, online_data_B) => {
        switch (true) {
            case online_data_A === undefined || online_data_A === null || online_data_A.length === 0: return 'online_data_AãŒç©ºã§ã™'; break;
            case online_data_B === undefined || online_data_B === null || online_data_B.length === 0: return 'online_data_BãŒç©ºã§ã™'; break;
            default: return 'OK'; break;
        }
    };
    const error_check_insert_data = (data_type, data_json_str) => {
        const is_include_DATA_TYPE = (target_data_type_str) => this.DATA_TYPE_ARRAY.some((DATA_TYPE) => target_data_type_str === DATA_TYPE);
        switch (true) {
            case data_json_str === undefined: return 'dataãŒç©ºã§ã™'; break;
            case data_json_str.length > 10000: return 'dataãŒé•·ã™ãã¾ã™'; break;
            case !is_include_DATA_TYPE(data_type): return 'è¨±å¯ã•ã‚Œã¦ã„ãªã„data_typeã§ã™'; break;
            default: return 'OK'; break;
        }
    };
    error_check_online_data_A_online_data_B(this.online_data_A_connector(), this.online_data_B_connector()) === 'OK' ? null : (()=>{throw new Error(error_check_online_data_A_online_data_B(this.online_data_A, this.online_data_B))})();
    const data_convert_jsonstr = (online_data_A, online_data_B) => JSON.stringify({'data1': online_data_A, 'data2': online_data_B});
    const data_json_str = data_convert_jsonstr(this.online_data_A_connector(), this.online_data_B_connector());
    error_check_insert_data(this.data_type, data_json_str) === 'OK' ? null : (()=>{throw new Error(error_check_insert_data(this.data_type, data_json_str))})();
    const res = await fetch(this.endpoint + '/insert_link', {method: 'POST',headers: {'Content-Type': 'application/json',},
        body: JSON.stringify({ name: this.name, password: this.password, link: this.link,
            data_type: this.data_type,
            data_json_str: data_json_str,
        }),
    });
    const data = await res.json(); console.log(data);
} catch (error) {
    console.log(error);
}
},

async fetch_delete_link(LINK_ID){
    if (window.confirm('Are you sure you want to delete this link?')) {
        const res = await fetch(this.endpoint + '/delete_link', {
            method: 'POST',
            headers: {'Content-Type': 'application/json',},
            body: JSON.stringify({ name: this.name, password: this.password, id: LINK_ID }),
        });
        const data = await res.json(); 
        await this.fetch_read_all();
    } else {
        console.log('Delete operation cancelled by the user.');
    }
},
async fetch_like_increment_or_decrement(LINK_ID){
    const res = await fetch(this.endpoint + '/like_increment_or_decrement', {method: 'POST',headers: {'Content-Type': 'application/json',},
        body: JSON.stringify({ name: this.name, password: this.password, link_id: LINK_ID }),
    });
    const data = await res.json(); console.log(data);
    await this.fetch_read_all();
},
async fetch_insert_comment(LINK_ID){
    const res = await fetch(this.endpoint + '/insert_comment', {method: 'POST',headers: {'Content-Type': 'application/json',},
        body: JSON.stringify({ name: this.name, password: this.password, link_id: LINK_ID, comment: this.comment }),
    });
    const data = await res.json(); console.log(data);
    await this.fetch_read_all();
},
async fetch_delete_comment(COMMENT_ID){
    console.log(COMMENT_ID);
    const res = await fetch(this.endpoint + '/delete_comment', {method: 'POST',headers: {'Content-Type': 'application/json',},
        body: JSON.stringify({ name: this.name, password: this.password, comment_id: COMMENT_ID }),
    });
    const data = await res.json(); console.log(data);
    await this.fetch_read_all();
},
async fetch_insert_comment_reply(COMMENT_ID){
    console.log(COMMENT_ID);
    const res = await fetch(this.endpoint + '/insert_comment_reply', {method: 'POST',headers: {'Content-Type': 'application/json',},
        body: JSON.stringify({ name: this.name, password: this.password, comment_id: COMMENT_ID, comment_reply: this.comment_reply }),
    });
    const data = await res.json(); console.log(data);
    await this.fetch_read_all();
},
async fetch_delete_comment_reply(COMMENT_REPLY_ID){
    const res = await fetch(this.endpoint + '/delete_comment_reply', {method: 'POST',headers: {'Content-Type': 'application/json',},
        body: JSON.stringify({ name: this.name, password: this.password, comment_reply_id: COMMENT_REPLY_ID }),
    });
    this.data = await res.json(); console.log(this.data);
    await this.fetch_read_all();
},
async fetch_insert_tag(LINK_ID){
    const res = await fetch(this.endpoint + '/insert_tag', {method: 'POST',headers: {'Content-Type': 'application/json',},
        body: JSON.stringify({ name: this.name, password: this.password, link_id: LINK_ID, new_tag: this.search_tag }),
    });
    const data = await res.json(); console.log(data);
    await this.fetch_read_all();
},
async fetch_get_tags_for_autocomplete(){
    const res = await fetch(this.endpoint + '/get_tags_for_autocomplete', {method: 'POST',headers: {'Content-Type': 'application/json',},
        body: JSON.stringify({ name: this.name, password: this.password, search_tag: this.search_tag }),
    });
    const data = await res.json();
    this.tags = data['message'];
},
async fetch_delete_tag(LINK_ID, TAG_ID){
    const res = await fetch(this.endpoint + '/delete_tag', {method: 'POST',headers: {'Content-Type': 'application/json',},
        body: JSON.stringify({ name: this.name, password: this.password, id: TAG_ID, link_id: LINK_ID, }),
    });
    const data = await res.json(); console.log(data);
    await this.fetch_read_all();
},

show_all_user(){
    this.show_user = '';
},
show_all_tag(){
    this.show_tag = '';
},
change_show_order_by(){
    this.show_order_by = this.show_order_by === 'DESC' ? 'ASC' : 'DESC';
},

simple_funtionable() {
    this.simple_funtionable_flag = !this.simple_funtionable_flag;
    function simple(){
        // cssã®simple_mode1ã‚¯ãƒ©ã‚¹ã‚’å«ã‚€è¦ç´ ä»¥å¤–ã‚’å…¨ã¦éè¡¨ç¤ºã«ã™ã‚‹
        const simple_mode1_ary_not = document.querySelectorAll('body :not(.simple_mode2)');
        const simple_mode1_ary_not_ary = Array.from(simple_mode1_ary_not);
        simple_mode1_ary_not_ary.forEach((V) => {
            V.classList.add('display_none');
        });
        document.querySelectorAll('.minimum, .column-2').forEach((V) => {
            V.classList.add('maximum');
        });
    }
    function funtionable(){
        // cssã®simple_mode1ã‚¯ãƒ©ã‚¹ã‚’å«ã‚€è¦ç´ ä»¥å¤–ã‚’å…¨ã¦è¡¨ç¤ºã«ã™ã‚‹
        const simple_mode1_ary_not = document.querySelectorAll('body :not(.simple_mode2)');
        const simple_mode1_ary_not_ary = Array.from(simple_mode1_ary_not);
        simple_mode1_ary_not_ary.forEach((V) => {
            V.classList.remove('display_none');
        });
        document.querySelectorAll('.minimum, .column-2').forEach((V) => {
            V.classList.remove('maximum');
        });
    }
    this.simple_funtionable_flag === true ? simple() : funtionable();
},
apply_inline_block_styles_all_at_once(Simple=false) {
    // simple_mode1ãŒæœ¬æ¥ã®inline-blockæŒ‡å®šã®CSSæŒ‡å®šã¨ç«¶åˆã™ã‚‹ãŸã‚ã€
    // ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«ã‚’å„ªå…ˆé©ç”¨ã•ã›ã‚‹ãŸã‚ã®é–¢æ•°
    // .simple_mode1é…ä¸‹ã®å ´åˆã¯display: none;ã‚’é©ç”¨ã™ã‚‹
    this.simple_funtionable_flag === true ? Simple = true : Simple = false;
    let style = Simple === true ? 'display: none;' : 'display: inline-block;' ;
    return style;
},
textarea_opener() {
    this.textarea_visible = !this.textarea_visible;
},
scrollToTarget(For='local') {
    this.textarea_visible = true;
    document.getElementById('target').scrollIntoView(
        {behavior: 'instant', block: 'end', inline: 'nearest'}
    );
    For ==='local' ? this.$refs.save_data_set_list_parent1.style.display = 'none' : null;
    For ==='web' ? this.$refs.save_data_set_list_parent2.style.display = 'none' : null;
},
advanced_visible_fn() {
    this.advanced_visible === 'advanced' ? this.css_var_set('--advanced-display-var', 'inline-block') : this.css_var_set('--advanced-display-var', 'none');
},
// for_online_function
















// this.online_data_A = [];
// this.online_data_A0_q_a = [];

// core of q_a
// online_data_A q_a_data_x_1
// online_data_A online_data_A
// online_data_B online_data_B
// data_b data_b
// q_a_data4 q_a_q_a_data4
// q_a_data5 q_a_q_a_data5
// data_a data_a
// go to outside from core of q_a: online_data_A


// q_a_fn2_1 q_a_q_a_fn2_1
// q_a_fn2_2 q_a_q_a_fn2_2
// q_a_processing q_a_q_a_processing
// q_a_fn3 q_a_q_a_fn3
// q_a_fn4_1 q_a_q_a_fn4_1
// q_a_fn4_2 q_a_q_a_fn4_2
// q_a_fn4_3 q_a_q_a_fn4_3
// q_a_fn4_4 q_a_q_a_fn4_4
// q_a_fn4 q_a_fn4
// test_index q_a_test_index
// q_a_change_current_index q_a_q_a_change_current_index
// q_a_change_only_one_q_a_mode q_a_q_a_change_only_one_q_a_mode

// fn2_1() {
q_a_fn2_1() {
return this.online_data_B.map((V, IDX)=>{
    return shuffle(shuffle(R.without(this.online_data_B[IDX], this.online_data_B)).slice(0, 2).concat(this.online_data_B[IDX]));
});
},
// fn2_2() {
q_a_fn2_2() {
return R.zip(this.online_data_B, this.q_a_fn2_1()).map((V,IDX)=>[V[0], V[1], this.data_a.split("\n")[IDX]]);
},
// processing() {
q_a_processing() {
this.online_data_B = this.data_b.split("\n");
this.q_a_data4 = this.q_a_fn2_2();
this.q_a_data5 = R.repeat(undefined, this.q_a_data4.length);
this.for_debug();
},
// fn3(correct, answer, INDEX) {
q_a_fn3(correct, answer, INDEX) {
this.q_a_data5[INDEX] = answer === correct ? "â­•ï¸" : "â";
this.q_a_change_current_index(+1);
this.current_index === this.q_a_data4.length ? this.current_index = 0 : null;
},
// fn4_1() {
q_a_fn4_1() {
a = R.zip(this.q_a_data4, this.q_a_data5);
b = R.collectBy(
        (V)=> ( V[1] === 'â' || V[1] === undefined ) ,
        a
    );
c = b[0][0][1] === 'â­•ï¸' ? b[1] : b[0];
this.q_a_data4 = c.map(V=>V[0]);
},
// fn4_2() {
q_a_fn4_2() {
this.q_a_data5 = [];
},
// fn4_3() {
q_a_fn4_3() {
this.online_data_A.push([
    R.transpose(this.q_a_data4)[2].join("\n"),
    R.transpose(this.q_a_data4)[0].join("\n"),
]);
},
// fn4_4() {
q_a_fn4_4() {
return this.to_ary(this.q_a_data5).every(V=>V === 'â­•ï¸')
},
// fn4() {
q_a_fn4() {
if(this.q_a_fn4_4()){
    this.q_a_data4 = this.q_a_data5 = [];
    return;
};
this.q_a_fn4_1();
this.q_a_fn4_2();
this.q_a_fn4_3();
},
// test_index(Test_index) {
q_a_test_index(Test_index) {
this.q_a_data4.forEach((V,IDX)=>this.q_a_fn3(V[0], V[1][Test_index], IDX));
this.q_a_fn4();
},
// change_current_index(ONE_UP_OR_ONE_DOWN=1) {
q_a_change_current_index(ONE_UP_OR_ONE_DOWN=1) {
    this.current_index = this.current_index + (ONE_UP_OR_ONE_DOWN);
    this.current_index < 0 ? this.current_index = this.q_a_data4.length - 1 : null;
    this.current_index > this.q_a_data4.length - 1 ? this.current_index = 0 : null;
},
// ge_only_one_mode() {
q_a_fn20(INDEX){
this.q_a_data5[INDEX] = null;
},


// core of q_a



change_to_q_a() {
    this.data_type = 'q_a';
},
change_to_f_i_b() {
    this.data_type = 'f_i_b';
    console.log('f_i_b');
},
change_to_i_t_n() {
    // this.data_type = 'i_t_n';
    this.data_type = 'i_t_n';
    this.tmp_test_data_insert();
},
return_current_temporary_list() {
    let Index_of_list = 0;
    // q_aã¯0
    // f_i_bã¯1
    // i_t_nã¯2
    // this.data_typeãŒq_aã®æ™‚ã¯0
    // this.data_typeãŒf_i_bã®æ™‚ã¯1
    // this.data_typeãŒi_t_nã®æ™‚ã¯2
    switch (this.data_type) {
        case "q_a":
            Index_of_list = 0;
            break;
        case "f_i_b":
            Index_of_list = 1;
            break;
        case "i_t_n":
            Index_of_list = 2;
            break;
    }
    // this.temporary_list[Index_of_list];
    return this.temporary_list[Index_of_list];
},
data_a_b_converter_for(Service) {
    if(Service === 'f_i_b'){
        // this.i_t_n_data2 = this.data_a;
        // this.i_t_n_data3 = this.data_b;
        this.f_i_b_data1 = this.data_a;
        this.f_i_b_data2 = this.data_b;
    };
    if(Service === 'i_t_n'){
        this.i_t_n_data2 = this.data_a;
        this.i_t_n_data3 = this.data_b;
    };

},


tmp_test_data_insert(){
this.data_a = `cat
dog
halr
grf
eleph`;
this.data_b = `./asset/cat.png
./asset/dog.png
./asset/halr.png
./asset/grf.png
./asset/eleph.png`;
// this.data_a = `cat
// dog
// halr
// grf
// eleph
// sushi
// cake
// pink_pixel
// paint`;
// this.data_b = `https://taroyanaka.github.io/q_a/asset/cat.png
// https://taroyanaka.github.io/q_a/asset/dog.png
// https://taroyanaka.github.io/q_a/asset/halr.png
// https://taroyanaka.github.io/q_a/asset/grf.png
// https://taroyanaka.github.io/q_a/asset/eleph.png
// https://pbs.twimg.com/media/FpfSgHdaEAE-Ts6?format=jpg
// https://pbs.twimg.com/media/FpfRSXQacAARY-a?format=jpg
// https://pbs.twimg.com/media/FoaB5b9aUAAXgAU?format=jpg
// https://pbs.twimg.com/media/FjuxRy-agAAgAFJ?format=jpg`;
sleep(1500);

console.log('tmp_test_data_insert');
// this.i_t_n_init();
this.data_a_b_converter_for('i_t_n');
this.i_t_n_data2_data3_string_to_array();
this.i_t_n_make_image_to_name_Q_A_array();


// app.i_t_n_swap_q_a()ã—ãŸå¾Œã®i_t_n_data9ã®CSSã‚’æ›¸ã(å‚ç…§å…ƒã®./i_t_n.htmlã®æ–¹ã‚‚è¡¨ç¤ºãŒãƒã‚°ã£ã¦ã‚‹)

},
i_t_n_data9_x_setup() {
const ary1 = this.tmp_1;
const ary2 = this.tmp_2;
const ary10 = ary1.split("\n");
const ary20 = ary2.split("\n");
const ary10_1 = R.clone(ary10);
const ary10_2 = R.clone(ary10);
const ary100 = ary20.map((V,I)=>[V, [ary10_1[I], shuffle(ary10_2).slice(0,3)], false ]);
this.i_t_n_data9_x = ary100;
},

// ã‚³ã‚¢éƒ¨åˆ†ã®é–¢æ•°ã¨å¤‰æ•°ã‚’ã¾ã¨ã‚ã‚‹
    // ãã‚Œãã‚Œã®ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®ã‚³ã‚¢éƒ¨åˆ†ã®ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã¯fn9ã¨online_data_A0ãŒæ¥ç¶šéƒ¨åˆ†
    // ãã®ãŸã‚ã€fn9ã¨online_data_A0ã‚’ãã‚Œãã‚Œã®ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆç”¨ã®converteré–¢æ•°ã§æ¥ç¶šã™ã‚‹

// ã‚³ã‚¢éƒ¨åˆ†ä»¥å¤–ã®å‘½åã¨å‡¦ç†å†…å®¹ã‚’å…±é€šåŒ–ã™ã‚‹
// <style>ã®ä¸­èº«ã‚’ã¾ã¨ã‚ã‚‹
    // => q_a, f_i_b, i_t_nã®3ã¤ã®ãƒšãƒ¼ã‚¸ã‚’1ã¤ã®HTMLã«ã¾ã¨ã‚ã‚‹

},
}).mount('.app');
</script>
</html>